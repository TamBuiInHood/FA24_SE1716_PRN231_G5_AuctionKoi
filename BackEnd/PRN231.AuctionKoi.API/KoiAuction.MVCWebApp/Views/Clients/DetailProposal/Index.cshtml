@{
    Layout = "~/Views/Shared/_ClientLayout.cshtml";
    ViewData["Title"] = "Index";
}

<div class="container">
    <div class="w-100 d-flex justify-content-between align-items-center flex-warp mb-4">
        <div class="flex-grow-1">
            <div class="w-100 d-flex align-items-center mb-1">
                <a class="h4 text-decoration-none fw-600 text-color-black"> Auction #65 </a>
            </div>
            <div class="lh-1 fw-600">
                9/19/2024, 9:00 PM - 9/23/2024, 9:00 AM
            </div>
        </div>
        <div class="d-flex gap-2 font-weight-semibold my-2">
            <button class="btn-more-info fw-600 btn w-100 d-flex align-items-center justify-content-center">
                <svg xmlns="http://www.w3.org/2000/svg"
                     aria-hidden="true"
                     role="img"
                     width="1.25rem"
                     height="1.25rem"
                     viewBox="0 0 24 24"
                     class="mr-2">
                    <g fill="none"
                       stroke="currentColor"
                       stroke-linecap="round"
                       stroke-linejoin="round"
                       stroke-width="2">
                        <circle cx="12" cy="12" r="9"></circle>
                        <path d="M12 15v-3m0-3"></path>
                    </g>
                </svg>
                <span class="d-none d-sm-inline-flex">In-House Auction Info</span>
            </button>
        </div>
    </div>
    <div class="row g-4">
        <div class="col-5 col-sm-5 col-md-5 col-lg-5 col-xl-5 position-relative">
            <div class="position-relative detail-proposal-img">
                <img class="img-fluid p-3"
                     style="opacity: 1; transition: opacity 0.5s"
                     loading="lazy"
                     id="fishImage"
                     src="https://mjjlqhnswgbzvxfujauo.supabase.co/storage/v1/object/public/auctions/65%20Big%20Auction/photos/Goshiki%20auction.png"
                     alt="Goshiki" />
            </div>
            <div class="mt-2">
                <button onclick="toggleVideo(this)"
                        class="detail-proposal-video transparent-border position-relative d-none d-sm-grid d-flex justify-content-center align-items-center overflow-hidden w-100">
                    <video id="fishVideo" loop="" class="w-100" style="aspect-ratio: 16 / 9">
                        <source  src="https://mjjlqhnswgbzvxfujauo.supabase.co/storage/v1/object/public/auctions/65%20Big%20Auction/videos/Goshiki.mp4?t=2024-09-17T16%3A16%3A09.761Z"
                                type="video/mp4" />
                    </video>
                    <svg id="playIcon"
                         xmlns="http://www.w3.org/2000/svg"
                         aria-hidden="true"
                         role="img"
                         class="position-absolute top-50 start-50 translate-middle"
                         width="30%"
                         height="30%"
                         viewBox="0 0 24 24">
                        <g fill="none"
                           stroke="currentColor"
                           stroke-linecap="round"
                           stroke-linejoin="round"
                           stroke-width="2">
                            <path d="M10 16V8l6 4z"></path>
                            <circle cx="12" cy="12" r="10"></circle>
                        </g>
                    </svg>
                    <svg id="pauseIcon"
                         xmlns="http://www.w3.org/2000/svg"
                         aria-hidden="true"
                         role="img"
                         class="position-absolute top-50 start-50 translate-middle"
                         width="30%"
                         height="30%"
                         viewBox="0 0 24 24">
                        <g fill="none"
                           stroke="currentColor"
                           stroke-linecap="round"
                           stroke-linejoin="round"
                           stroke-width="2">
                            <path d="M7 9h3v6H7zm7 0h3v6h-3z"></path>
                            <circle r="10" transform="matrix(-1 0 0 1 12 12)"></circle>
                        </g>
                    </svg>
                </button>
            </div>
        </div>
        <div class="col-7 col-sm-7 col-md-7 col-lg-7 col-xl-7">
            <div class="card-proposal">
                <div>
                    <header class="card-proposal-header">
                        <div class="w-100 d-flex justify-content-between align-items-center flex-warp">
                            <h1 id="fishName" class="h5 fw-600 mb-1">Goshiki</h1>
                            <span class="proposal-tag">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                     aria-hidden="true"
                                     role="img"
                                     class="mr-2 iconify iconify--majesticons"
                                     width="1.25rem"
                                     height="1.25rem"
                                     viewBox="0 0 24 24">
                                    <path fill="none"
                                          stroke="currentColor"
                                          stroke-linecap="round"
                                          stroke-linejoin="round"
                                          stroke-width="2"
                                          d="M3 11.172V5a2 2 0 0 1 2-2h6.172a2 2 0 0 1 1.414.586l8 8a2 2 0 0 1 0 2.828l-6.172 6.172a2 2 0 0 1-2.828 0l-8-8A2 2 0 0 1 3 11.172M7 7h.001"></path>
                                </svg>
                                909
                            </span>
                        </div>
                        <div class="d-flex justify-content-between flex-wrap w-100">
                            <!-- Rating icons -->
                            <span class="d-flex w-auto">
                                <div id="ratingContainer" class="ratings d-flex text-body align-items-center justify-content-center">
                                    <!-- Star icons -->
                                    <span class="rating-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                             aria-hidden="true"
                                             role="img"
                                             width="2rem"
                                             height="2rem"
                                             viewBox="0 0 24 24">
                                            <path fill="currentColor"
                                                  d="m12 17.27l4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72l3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41l-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18l-1.1 4.72c-.2.86.73 1.54 1.49 1.08z"></path>
                                        </svg>
                                    </span>
                                    <span class="rating-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                             aria-hidden="true"
                                             role="img"
                                             width="2rem"
                                             height="2rem"
                                             viewBox="0 0 24 24">
                                            <path fill="currentColor"
                                                  d="m12 17.27l4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72l3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41l-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18l-1.1 4.72c-.2.86.73 1.54 1.49 1.08z"></path>
                                        </svg>
                                    </span>
                                    <span class="rating-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                             aria-hidden="true"
                                             role="img"
                                             width="2rem"
                                             height="2rem"
                                             viewBox="0 0 24 24">
                                            <path fill="currentColor"
                                                  d="m12 17.27l4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72l3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41l-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18l-1.1 4.72c-.2.86.73 1.54 1.49 1.08z"></path>
                                        </svg>
                                    </span>
                                    <span class="rating-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                             aria-hidden="true"
                                             role="img"
                                             width="2rem"
                                             height="2rem"
                                             viewBox="0 0 24 24">
                                            <path fill="currentColor"
                                                  d="m19.65 9.04l-4.84-.42l-1.89-4.45c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18l-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5l4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.73l3.67-3.18c.67-.58.32-1.68-.56-1.75M12 15.4V6.1l1.71 4.04l4.38.38l-3.32 2.88l1 4.28z"></path>
                                        </svg>
                                    </span>
                                </div>
                            </span>

                            <!-- Ended label -->
                            <span class="mt-2 fs-5 fw-600 d-flex text-body align-items-center justify-content-center">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                     aria-hidden="true"
                                     role="img"
                                     class="mr4"
                                     width="1em"
                                     height="1em"
                                     viewBox="0 0 24 24">
                                    <path fill="currentColor"
                                          fill-rule="evenodd"
                                          d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12m11-5a1 1 0 1 0-2 0v3.764a3 3 0 0 0 1.658 2.683l2.895 1.447a1 1 0 1 0 .894-1.788l-2.894-1.448a1 1 0 0 1-.553-.894z"
                                          clip-rule="evenodd"></path>
                                </svg>
                                Ended!
                            </span>
                        </div>
                    </header>
                    <section class="row py-4 card-proposal-section-container">
                        <div class="row mb-3 card-proposal-section-content">
                            <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 card-proposal-section">
                                <span class="card-proposal-section-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1.5rem" height="1.5rem" viewBox="0 0 24 24" class="iconify iconify--mingcute">
                                        <g fill="none" fill-rule="evenodd">
                                            <path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"></path>
                                            <path fill="currentColor" d="M7 9.5a7.5 7.5 0 1 1 2.942 5.957l-1.788 1.787L9.58 18.67a1 1 0 1 1-1.414 1.414L6.74 18.659l-2.12 2.12a1 1 0 0 1-1.414-1.415l2.12-2.12l-1.403-1.403a1 1 0 1 1 1.414-1.414L6.74 15.83l1.79-1.79A7.47 7.47 0 0 1 7 9.5M14.5 4a5.5 5.5 0 1 0 0 11a5.5 5.5 0 0 0 0-11"></path>
                                        </g>
                                    </svg>
                                </span>
                                <span class="card-proposal-section-detail d-flex align-items-center justify-content-between pr-2 w-100">
                                <dt class="" data-svelte-h="svelte-112tf8t">Sex</dt>
                                <dd id="fishGender" class="fw-600 mp-0">Unknown</dd>
                                </span>
                            </div>
                            <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 card-proposal-section">
                                <span class="card-proposal-section-icon"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1.5rem" height="1.5rem" viewBox="0 0 24 24" class="iconify iconify--majesticons"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m6 12l-1.586 1.586a2 2 0 0 0 0 2.828l3.172 3.172a2 2 0 0 0 2.828 0l9.172-9.172a2 2 0 0 0 0-2.828l-3.172-3.172a2 2 0 0 0-2.828 0L12 6m-6 6l2 2m-2-2l3-3m3-3l2 2m-2-2L9 9m0 0l3 3"></path></svg></span>
                                <span class="card-proposal-section-detail d-flex align-items-center justify-content-between pr-2 w-100">
                                <dt class="" data-svelte-h="svelte-bjopq9">Length</dt>
                                <dd id="fishLength" class="fw-600 mp-0">41cm</dd>
                                </span>
                            </div>
                        </div>

                        <div class="row card-proposal-section-content">
                            <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 card-proposal-section">
                                <span class="card-proposal-section-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1.5rem" height="1.5rem" viewBox="0 0 24 24" class="iconify iconify--majesticons">
                                        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="9"></circle><path d="M8 4v2a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v0a2 2 0 0 0 2 2v0a2 2 0 0 0 2-2v0a2 2 0 0 1 2-2h1m0 8h-3a2 2 0 0 0-2 2v2m-4 0v-2a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v0a2 2 0 0 0-2-2H3"></path></g>
                                    </svg>
                                </span>
                                <span class="card-proposal-section-detail d-flex align-items-center justify-content-between pr-2 w-100">
                                <dt class="" data-svelte-h="svelte-1y9xqqs">Breeder</dt>
                                <dd id="fishFarmName" class="fw-600 mp-0">Kanno</dd>
                                </span>
                            </div>

                            <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 card-proposal-section">
                                <span class="card-proposal-section-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1.5rem" height="1.5rem" viewBox="0 0 24 24" class="iconify iconify--majesticons"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M7 9a4 4 0 0 0-4 4v6a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-6a4 4 0 0 0-4-4v0M7 9h10M7 9V6m10 3V6m-5 0v3m0-6h.01M7 3h.01M17 3h.01"></path><path d="M3 13c0 1 .6 3 3 3s3-2 3-3c0 1 .6 3 3 3s3-2 3-3c0 1 .6 3 3 3s3-2 3-3"></path></g></svg>
                                </span>
                                <span class="card-proposal-section-detail d-flex align-items-center justify-content-between pr-2 w-100">
                                <dt  class="" data-svelte-h="svelte-pgao7e">Age</dt>
                                <dd id="fishAge" class="fw-600 mp-0">Nisai (2y)</dd>
                                </span>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <div class="card-proposal mt-4">
                <div>
                    <header class="card-proposal-header">
                        <div class="w-100 d-flex justify-content-between align-items-center flex-warp">
                            <h1 class="h5 fw-600 mb-1">Current Price</h1>
                            <span id="fishInitialPrice" class="proposal-tag fs-3 px-4 fw-600 d-flex align-items-center justify-content-center">
                                $1,000
                            </span>
                        </div>

                    </header>
                    <section class="row py-4 card-proposal-section-container">
                        <!-- Bước giá -->
                        <div class="col-3 d-flex justify-content-between align-items-center">
                            <div class="input-box d-flex align-items-center justify-content-center">
                                <input name="stepPrice" type="text" class="input-field fw-600 fs-5" id="step-price" value="50" min="0" required>
                                <label for="step-price" class="">Minimum</label>
                            </div>
                        </div>

                        <!-- Dấu x -->
                        <div class="col-1 d-flex align-items-center justify-content-center">
                            <div class="operation-sign fw-600 fs-5">x</div>
                        </div>

                        <!-- Số lượng và dấu +- -->
                        <div class="col-4 d-flex justify-content-between align-items-center">
                            <div class="input-quantity-container">
                                <button class="btn-decrease fw-600 fs-5" onclick="decreaseQuantity()">-</button>
                                <input type="text"
                                       id="quantity"
                                       class="input-quantity fw-600 fs-5"
                                       value="1"
                                       min="1" />
                                <button class="btn-increase fs-5" onclick="increaseQuantity()">+</button>
                            </div>
                        </div>

                        <!-- Dấu = -->
                        <div class="col-1 d-flex align-items-center justify-content-center">
                            <div class="operation-sign fw-600 fs-5">=</div>
                        </div>

                        <!-- Tổng cộng -->
                        <div class="col-3 d-flex justify-content-between align-items-center">
                            <div class="input-box d-flex align-items-center justify-content-center">
                                <input readonly id="total-price" class="fs-5 fw-bold" value="$1,050" />
                            </div>
                        </div>
                    </section>


                    <footer class="card-proposal-section-footer d-flex justify-content-center p-3">
                        <button class="fs-4 p-3" onclick="placeBid()">Bid: <span id="bid-total">$1,050</span></button>
                    </footer>
                </div>
            </div>

            <div class="card-past-bids mt-4">
                <header class="card-past-bids-header">
                    <h1 class="h5 fw-600">Past Bids</h1>
                </header>
                <dl class="card-past-bids-list py-2 px-3">
                    <!-- <div class="my-2 card-past-bids-none">
                      <div class="p-3 w-100">
                        <dt class="fw-bold d-flex align-items-center justify-content-between">
                          No Bids Yet
                        </dt>
                        <dd class="fw-semibold">Be the first to bid!</dd>
                      </div>
                    </div> -->
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>
                    <div class="my-2 card-past-bids-list-item">
                        <div class="px-3 py-2 w-100">
                            <dt class="fs-3 fw-bold d-flex align-items-center justify-content-between">
                                lequangdung232@gmail.com - $1,000
                            </dt>
                            <dd class="fw-semibold">9/23/2024, 3:30 AM</dd>
                        </div>
                    </div>

                </dl>
            </div>
        </div>
    </div>
</div>

<script>
    const pauseIcon = document.getElementById("pauseIcon");
    pauseIcon.classList.add("hidden");

    function toggleVideo(button) {
        const video = button.querySelector("video");
        const playIcon = document.getElementById("playIcon");

        if (video.paused) {
            video.play();
            playIcon.classList.add("hidden"); // Thêm lớp 'hidden' để ẩn biểu tượng Play
            pauseIcon.classList.remove("hidden"); // Loại bỏ lớp 'hidden' để hiện biểu tượng Pause
        } else {
            video.pause();
            playIcon.classList.remove("hidden"); // Loại bỏ lớp 'hidden' để hiện biểu tượng Play
            pauseIcon.classList.add("hidden"); // Thêm lớp 'hidden' để ẩn biểu tượng Pause
        }
    }

    // Thêm sự kiện hover cho nút
    const detailVideoButton = document.querySelector(
        ".detail-proposal-video"
    );
    detailVideoButton.addEventListener("mouseover", function () {
        const video = this.querySelector("video");
        if (!video.paused) {
            // Nếu video đang chạy, hiện biểu tượng Pause
            pauseIcon.classList.remove("hidden");
        }
    });
    detailVideoButton.addEventListener("mouseout", function () {
        const video = this.querySelector("video");
        if (!video.paused) {
            // Nếu video đang chạy, ẩn biểu tượng Pause
            pauseIcon.classList.add("hidden");
        }
    });
</script>
<script>
   

    function calculateTotal() {
        // Truy vấn thẻ bằng id
        let priceText = document.getElementById("fishInitialPrice").textContent;

        // Loại bỏ ký hiệu '$' và dấu phẩy ','
        let priceNumber = priceText.replace('$', '').replace(',', '');

        // Chuyển sang kiểu số
        let currentPrice = parseFloat(priceNumber);
        let stepPrice = document.getElementById('step-price').value;
        let quantity = document.getElementById('quantity').value;
        const totalPrice = currentPrice + stepPrice * quantity;
        document.getElementById('total-price').value = `$${totalPrice}`;
        document.getElementById('bid-total').innerText = `$${totalPrice}`;
    }

    function increaseQuantity() {
        const qtyInput = document.getElementById('quantity');
        qtyInput.value = parseInt(qtyInput.value) + 1;
        quantity = parseInt(qtyInput.value);
        calculateTotal();
    }

    function decreaseQuantity() {
        const qtyInput = document.getElementById('quantity');
        if (parseInt(qtyInput.value) > 1) {
            qtyInput.value = parseInt(qtyInput.value) - 1;
            quantity = parseInt(qtyInput.value);
            calculateTotal();
        }
    }

    // Hàm để loại bỏ các ký tự không phải số
    function validateNumberInput(e) {
        const inputElement = e.target;
        inputElement.value = inputElement.value.replace(/[^0-9]/g, ''); // Loại bỏ ký tự không phải số
        // Nếu ký tự đầu tiên là 0, xóa nó
        if (inputElement.value.startsWith('0')) {
            inputElement.value = inputElement.value.replace(/^0+/, '');
        }
    }

    document.getElementById('step-price').addEventListener('input', (e) => {
        validateNumberInput(e);
        stepPrice = parseInt(e.target.value) || 1;
        calculateTotal();
    });

    document.getElementById('quantity').addEventListener('input', (e) => {
        validateNumberInput(e);
        quantity = parseInt(e.target.value) || 1;
        calculateTotal();
    });

    // Place bid
    function placeBid() {
        alert(`Bạn đã đặt giá: $${currentPrice + stepPrice * quantity}`);
    }
</script>
    <script type="text/javascript">
        $(document).ready(function () {
            loadData();

        });
        // Lấy toàn bộ URL hiện tại
        const url = window.location.href;
        

        // Tạo một đối tượng URL để dễ dàng thao tác
        const params = new URL(url).searchParams;
        console.log("Params", params);
        // const id = params.get('id');
        const id = 1;

        function loadData() {
            $.ajax({
                url: `https://localhost:7094/auction-koi/detailProposal/${id}`,
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (result) {
                    var data = result.data;
                    $('#fishName').text(data.fishName);
                    $('#fishImage').attr('src', data.imageUrl);
                    $('#fishVideo').attr('src', data.videoUrl);
                    $('#fishGender').text(data.gender);
                    $('#fishLength').text(data.length);
                    $('#fishAge').text(data.age);
                    $('#fishFarmName').text(data.farmName);
                    $('#fishInitialPrice').text(data.initialPrice);
                    $('#step-price').val(data.minIncrement);
                    $('#total-price').val(data.initialPrice);
                    generateRatingStars(data.rating);
                },
                error: function (xhr, error) {
                    alert(xhr.statusText);
                }
            });
        }

    // Hàm tạo các biểu tượng sao
    function generateRatingStars(rating) {
        // Lấy container chứa các biểu tượng sao
        const ratingContainer = document.getElementById('ratingContainer');

        // Xóa các sao cũ (nếu có) để tránh lặp lại khi tạo mới
        ratingContainer.innerHTML = '';

        // Lặp qua số lượng rating và tạo ra các biểu tượng sao
        for (let i = 0; i < rating; i++) {
            // Tạo phần tử span chứa biểu tượng sao
            const starSpan = document.createElement('span');
            starSpan.classList.add('rating-icon');

            // Tạo phần tử SVG cho biểu tượng sao
            const starSVG = `<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="2rem" height="2rem" viewBox="0 0 24 24">
                                   <path fill="currentColor" d="m12 17.27l4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72l3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41l-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18l-1.1 4.72c-.2.86.73 1.54 1.49 1.08z"></path>
                                 </svg>`;

            // Thêm biểu tượng SVG vào span
            starSpan.innerHTML = starSVG;

            // Thêm span vào container
            ratingContainer.appendChild(starSpan);
        }
    }

    </script>
